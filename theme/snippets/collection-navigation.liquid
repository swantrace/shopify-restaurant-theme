<div class="col-12 col-md-2 d-flex align-items-center justify-content-center" id="collection-navigation">
  <div>
    {% if collection.handle == 'all' %}
      <ul class="collection-titles">
        {% for collection in collections %}
          {% unless collection.handle == 'all' %}
            <li class="collection-link-wrapper">
              <a href="#{{ collection.handle }}" class="collection-link">
                {{ collection.title }}
              </a>
            </li>
          {% endunless %}
        {% endfor %}
      </ul>
    {% else %}
      <a href="{{ routes.all_products_collection_url | append: '#' | append: collection.handle }}">
        <span class="text-white">&lt;&lt;&nbsp; Go Back</span>
      </a>
    {% endif %}
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function(){
    const currentHash = location.hash;
    if(currentHash != '') {
      activeLink = document.querySelector(`[href="${currentHash}"]`);
      activeLink && activeLink.classList.add("active");
    }
    const links = document.querySelectorAll('.collection-titles a[href^="#"]');
    links.forEach(link => {
      link.addEventListener('click', (e) => {
        if(!link.classList.contains('active')){
          const currentActiveLink = document.querySelector('.collection-titles a.active');
          currentActiveLink && currentActiveLink.classList.remove('active');
          link.classList.add('active');
        }
      })
    })
  });
</script>
<style>
  .collection-titles {
    margin-top: 1rem;
    list-style: none;
    padding-inline-start: 0;
  }

  .collection-titles li a {
    color: white;
  }

  .collection-titles li a.active {
    color: red;
  }

  .collection-titles a.active:before {
    color: white;
    content: ">>";
  }
</style>